<!DOCTYPE html>
<html>
  <head>
    <title>Tic Tac Toe!</title>
    <meta charset="utf-8">
    <link href="index.css" media="screen" rel="stylesheet" type="text/css">
  </head>

  <body>
    <h1>Tic Tac Toe</h1>
    <div id="tic-tac-toe">
      <table>
        <tr>
          <td data-position="a1"></td>
          <td data-position="b1"></td>
          <td data-position="c1"></td>
        </tr>
        <tr>
          <td data-position="a2"></td>
          <td data-position="b2"></td>
          <td data-position="c2"></td>
        </tr>
        <tr>
          <td data-position="a3"></td>
          <td data-position="b3"></td>
          <td data-position="c3"></td>
        </tr>
      </table>


    </div>
  </body>
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script src="tic-tac-toe.js"></script>
  <script type="text/javascript">
    $(document).on('ready', function() {
      //creates and begins game
      var game = new TicTacToe();
      var spaces = $('td')

      //when you click on a space, its position will be passed to JS script
      spaces.on('click', function () {
        //the value in the space itself
        var space = $(this).attr('data-position')

        // so I can access this context inside the callback below
        var which_square = $(this)
        game.take_space(space, function(current_player) {
          which_square.text(current_player.toUpperCase())
        })

        game.is_win(function(win_status, winning_player) {
          if (win_status === true) {
            var message = winning_player.toUpperCase() + " WINS!!!"
            console.log(message)
          } else {
            game.next_turn()
          }
        })

        game.is_draw(function(draw_status) {
          if (draw_status === true) {
            var message = "DRAWWWWWW"
            console.log(message)
          }
        })

      })

    })
  </script>
</html>
